{
  "title": "WhatsAPP — network 整理",
  "cells": [
    {
      "type": "text",
      "data": "11.1 client server programming model"
    },
    {
      "type": "text",
      "data": "<ol><li style=\"font-size: 16px;\"><span style=\"line-height: 1.4;\">This model consists of one server process and one or more than one client processes&nbsp;</span><br></li><ol style=\"font-size: 14px;\"><li style=\"font-size: 16px;\"><span style=\"line-height: 1.4;\">the server managee some resources provide these resources for clients by manipulating these resources</span></li><li style=\"font-size: 16px;\">transaction:</li><ol><li style=\"font-size: 16px;\">request — one client would send a request to the server;</li><li style=\"font-size: 16px;\">the server receives this request and then interpret this and then manipulate its resources in the approriate way. 准备资源/数据</li><li style=\"font-size: 16px;\">server sends back a response and then wait for the next response from client</li><li style=\"font-size: 16px;\">client receives response from server and then do manipulation based on that</li></ol></ol><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\">Networks</span></li><ol><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\">for a host, a network is just like another kind of IO that serves as a sink or source of data</span></li><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\">then data could be copied and sent from/to memory and to/from networks</span></li><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\">network is a hierachical&nbsp;system&nbsp;— LAN local area network</span></li><ol><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\">usually a building or a campus;</span></li><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\">the most popular tech used is Ethernet</span></li><ol><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\"><img src=\"quiver-image-url/97A535D7-9AD0-4E21-AA0D-582004D08934.png\"><br></span></li><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\">as shown above, in one ethernet, there are some hosts that share a hub; they are connected by wires and when hub receives one bit from one port and then the hub would copy this bit and let all other ports receive this bit</span></li><li style=\"font-size: 14px;\"><span style=\"font-size: 16px; line-height: 21px;\">larger ethernet is called bridged ethernet with some boxes called ethernet and&nbsp;</span><img src=\"quiver-image-url/FE1668DC-E38F-45B4-86B2-0F7562849FE0.png\"></li></ol></ol><li><span style=\"font-size: 14px; line-height: 19px;\">and routers are&nbsp;connected to high speed point to point phone connections which is an example of WAN&nbsp;— Wide Area Networks</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">WAN中不同的LAN 和 WAN 有可能使用完全不同的技术 所以为了smooth他们之间的不同&nbsp;—我们用一个layer called protocol software</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">对于一个protocol 而言 至少要定义好两件事情 1. naming scheme 2. sending mechanism （encoding and packaging</span><span style=\"font-size: 14px; line-height: 19px;\">）</span></li></ol></ol></ol><li><span style=\"font-size: 14px; line-height: 19px;\">Global IP address</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">global IP address is the most successful emplementation of global Internet</span><img src=\"quiver-image-url/0F047BD3-3282-4BC9-8A3F-02A632375E2D.png\"></li><li><span style=\"font-size: 14px; line-height: 19px;\">for the above pic, each host has to implement the TCP/IP protocol&nbsp;— Transmission Control Protocol / Internet Protocol</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">事实上 TCP/IP 是一系列的protocols， IP 定义了基本的naming scheme 和 sending mechanism 但是没有处理datagrams miising or duplicated 所以不是很可靠</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">UDP Unreliable Datagram Protocol 延伸了IP的功能 data 不仅仅可以在不同的host之间传递 也可以在不同的process之间传递</span></li></ol><li><span style=\"font-size: 14px; line-height: 19px;\">IP address</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">unsigned 32 bit integer;</span></li></ol><li><span style=\"font-size: 14px; line-height: 19px;\">DNS &nbsp;—&nbsp;get host by domain names or IP address, interpreted by DNS databse Domain Name System</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">一个IP可能有很多的host name&nbsp;— 一个hostname可能会有很多IP address</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">也有可能是一对一</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">也有可能是一对零</span></li></ol><li><span style=\"font-size: 14px; line-height: 19px;\">Internet Connections&nbsp;— 这样的connection 定义的是一个点对点的链接 所以说一个connection 可以用两个点唯一确定 (cliaddr : cliport, servaddr: servport)</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">socket 是 connection的一个端点 端点上面会有一些ports</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">对于 client 而言&nbsp;— port num 一般是自动分配的</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">对于 server 而言 一般是固定的 有一些常用的</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">25 email&nbsp;— Simple Mail Transfer Protocol</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">80 HTTP</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">443 HTTPs</span></li></ol></ol></ol><li><span style=\"font-size: 14px; line-height: 19px;\">Socket Interface&nbsp;— the socket interface is a set of functions that are used with Unix IO functions to build network applications</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">socket function&nbsp;— to create a socket descriptor</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">connext&nbsp;— establish a connection between a socket and a port of a server</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">bind&nbsp;— bind server’s cocket address with the socket descriptor</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">listen&nbsp;— convert a socket from an active socket into a listening socket , which would tell the kernel that the descriptor will be used for server</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">accept function&nbsp;— this function would wait for a request from client to arrive on the listening socket</span></li></ol><li><span style=\"font-size: 14px; line-height: 19px;\">Web servers&nbsp;— web clients and servers communicate with each other with a protocol called HTTP HyperText Transfer Protocol&nbsp;</span></li><ol><li><span style=\"font-size: 14px; line-height: 19px;\">what is the differentce between HTTP and FTP : for HTTP, the main difference is that ti could do something in HTML and for HTML, the main difference is that one, it could tell the browser how to display different types of contents in different forms and also, the contents of the file could also contains some hyperlink that links to other page.</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">content of Web : Web supports a bunch of types of files and every piece of file is associated with a URL, which is Universal Resource Locator</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">HTTP transaction&nbsp;— 包含 HTTP request and HTTP response</span></li><li><span style=\"font-size: 14px; line-height: 19px;\">serving dynamic contents&nbsp;— 意味着server， client 还有 server 的children之间怎么互相传递</span></li></ol></ol>"
    }
  ]
}